!function(a){function b(a){this.actual=a}var c="function"==typeof define?define:"undefined"!=typeof module?function(a){module.exports=a()}:function(b){a.zucchi=b()},d={silent:{onSuccess:function(){},onFailure:function(){},exceptionFormatter:function(a){return a.stack},onResults:function(a,b,c){throw c}},console:{onSuccess:function(){process.stdout.write(".")},onFailure:function(){process.stdout.write("F")},exceptionFormatter:function(a){return a.stack},onResults:function(a,b,c){process.stdout.write("\n"),b&&(process.stdout.write("\n-----------\n"),console.log(c.join("\n")));var d=[a+" passed",b+" failed"];if(console.log(d.join(", ")),b)throw new Error(b+" tests failed!")}}},e=Array.prototype.slice,f=Function.prototype.bind||function(a){var b=this,c=e.call(arguments,1);return function(){return b.apply(a,c.concat(e.call(arguments)))}},g=f.call(Function.prototype.call,Array.prototype.forEach||function(a,b){b=b||this;for(var c=0,d=this.length;d>c;c++)a.call(b,this[c],c,this)}),h=function(a){return g(e.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},i=function(a,b){function c(a,c){var f=1==arguments.length;f||(a=Array.prototype.slice.call(a),a.push(c));var h=a.length==d;return f||!b&&h?e(a):g(a)}var d=a.length,e=f.call(Function.prototype.apply,a,void 0),g=f.call(f,c,void 0);return g([])};b.prototype.equals=function(a){if(this.actual!=a)throw"FAILED: Expected "+a+", but got "+this.actual};var j=i(function(a,b,c,d,e){var f,g=e,h=c;return f=1==d.length&&"function"==typeof d[0]?d[0]:function(a){return a.apply(this,d)},"function"!=typeof e&&(g=function(a){u.simpleThen(a,e)}),b.push({actual:f,expected:g,ctx:h}),a}),k=function(a){var b=[],c=!1,d=function(){return c||h(!0),a.apply(this,arguments)},e=j(d)(b),h=d.done=function(d){var e=function(b){var c,d=a;try{b.ctx&&(c=b.ctx(),d=f.call(a,c));var e=b.actual.call(c,d);b.expected.call(c,u.prepare(e)),u.reporter.onSuccess(),q.push(!0)}catch(g){r.push(new Error(g)),u.reporter.onFailure()}};return u.before.call(),g(b,u.each(e)),u.after.call(),d&&t(),c=!0,a};return d.using=l(e),d.when=m(e(void 0)),d.suppose=function(){return d},d},l=function(a){return function(b){return{when:m(a(b))}}},m=function(a){return function(){return{then:n(a(arguments))}}},n=function(a){return function(b){var c=a(b);return c.and=a,c}},o={prepare:function(a){return new b(a)},simpleThen:function(a,b){a.equals(b)},each:function(a){return a},before:function(){},after:function(){},reporter:d.console},p=function(){var a=function(a){var b=this;return function(){try{a.apply(this,arguments),b.passed++}catch(c){b.failed.push(c)}b.total++}},b=function(){this.total=0,this.passed=0,this.failed=[]};return b.prototype.use=function(){return{each:f(a,this)}},b.prototype.results=function(){},function(){return new b}}(),q=[],r=[],s=function(){r.length=0,q.length=0},t=function(){var a=q.length,b=r.length,c=r.map(u.reporter.exceptionFormatter);s(),u.reporter.onResults(a,b,c)},u=o;c(function(){return{given:k,use:function(){u=h.apply(void 0,[{},o].concat(e.call(arguments)))},reporters:d,results:t,reset:s,createSession:p,version:"0.0.2"}})}(this);